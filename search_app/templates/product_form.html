{% extends 'base.html' %}
{% load humanize %}

{% block body %}
<body> 
    
  <div class="container mt-5"> 
    <div class="row justify-content-center"> 
      <div class="col-md-6"> 
        <h2 class="text-center mb-4">商品{% if product.id %}編集{% else %}作成{% endif %}</h2> 
        <!-- 商品フォーム --> 
        <form method="POST" class="bg-light p-4 rounded shadow-sm"> 
          {% csrf_token %} 
          {{ form.as_p }} 
          <div class="d-flex justify-content-between mt-3"> 
            <!-- 保存ボタン --> 
            <button type="submit" class="btn btn-primary">保存</button> 
            <!-- 最初の画面に戻るボタン --> 
            
          </div> 
        </form>

        <!-- 削除ボタンのフォームを別に作成 --> 
        {% if product.id %}
          <form action="{% url 'product_delete' product.pk %}" method="POST" class="mt-3" onsubmit="return confirm('本当に削除しますか？');"> 
            {% csrf_token %} 
            <button type="submit" class="btn btn-danger w-100">削除</button> 
          </form> 
        {% endif %}
      </div> 
    </div> 
  </div> 
  <!-- Bootstrap JS --> 
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script> 
</body> 
{% endblock body %}
</html>